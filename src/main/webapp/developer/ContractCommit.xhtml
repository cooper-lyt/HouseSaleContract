<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:s="http://jboss.org/schema/seam/taglib"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:a="http://richfaces.org/a4j"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
                template="/layout/template-form.xhtml">


    <div class="subhead">
        <a:commandLink styleClass="btn btn-primary right"><span class="octicon octicon-plus"></span>
        <a:attachQueue requestDelay="0"/>

        </a:commandLink>

        <h2 class="subhead-heading">#{houseContractHome.instance.id}</h2>
        <p class="subhead-description">
            合同即将完成，这是最后一步，您可以在此打印合同，也可在合同提交到产权登记部门后打印合同。
        </p>
    </div>

    <h:form>

        <a:repeat value="#{houseContractHome.instance.contractNumberList}" var="_contractNumber">

            <s:decorate template="/layout/edit.xhtml">

                <div class="input-group">
                    <span class="input-group-btn">
                                                    <!-- TODO inputNumber form -->
                    <s:link styleClass="btn btn-default"
                            target="_blank"
                            action="#{houseContractHome.viewSingleContract}">
                        <span class="btn-icon glyphicon glyphicon-print"/>
                        <f:param value="#{_contractNumber.contractNumber}"
                                 name="contractNumber"/>
                        <f:param value="#{_contractNumber.houseContract.id}" name="houseContractId"/>
                    </s:link>

                    </span>

                    <h:inputText styleClass="form-control" value="#{_contractNumber.contractNumber}" disabled="true"/>
                    <span class="input-group-btn">
                        <a:commandLink styleClass="btn btn-danger btn-reversal"
                                action="#{houseContractHome.viewSingleContract}">
                            <a:attachQueue requestDelay="0"/>
                            <span class="btn-icon octicon octicon-trashcan "/>
                        </a:commandLink>

                    </span>


                </div>
            </s:decorate>


        </a:repeat>

        <hr/>
        <h:commandButton styleClass="btn btn-success" value="提交合同" action="#{houseContractHome.commit}"/>

    </h:form>

    <h:outputScript name="select-edit.js"/>

</ui:composition>